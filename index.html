<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Especialista en Diabetes</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <main>
        <form id="diabetesForm">
            <div class="form-header">
                <div class="form-header-left">
                    <img src="assets/images/logo2.png" alt="Logo de la Empresa" class="logo">
                </div>
                <div class="form-header-center">
                    <p>HISTORIA CLÍNICA NEURUM IPS</p>
                    <p>CC Punto clave Local 203</p>
                    <p>Cl. 27 #46-70, Medellín</p>
                </div>
                <div class="form-header-right">
                    <p>Historia Clínica</p>
                </div>
            </div>

            <!-- Bloque de formulario para la información del paciente -->
            <fieldset>
                <legend>Información del Paciente</legend>
            
                <div class="form-field">
                    <label for="consultationDate">Fecha de la Consulta:</label>
                    <input type="date" id="consultationDate" name="consultationDate" required>
                </div>
            
                <div class="form-field">
                    <label for="patientId">Identificación:</label>
                    <input type="text" id="patientId" name="patientId" required>
                </div>
            
                <div class="form-field age-field">
                    <label for="ageYears">Edad:</label>
                    <input type="number" id="ageYears" name="ageYears" placeholder="Años" required>
                    <input type="number" id="ageMonths" name="ageMonths" placeholder="Meses" required>
                </div>
            
                <div class="form-field">
                    <label for="patientName">Nombre:</label>
                    <input type="text" id="patientName" name="patientName" required>
                </div>
            
                <div class="form-field">
                    <label for="patientLastname">Apellidos:</label>
                    <input type="text" id="patientLastname" name="patientLastname" required>
                </div>
            </fieldset>
            
            
            

            
            <fieldset>
                <legend>Datos patológicos</legend>

                <div class="form-field">
                    <label for="diagnosisDate">Fecha diagnóstico:</label>
                    <input type="date" id="diagnosisDate" name="diagnosisDate" required>
                </div>

                <div class="form-field">
                    <label for="diabetesType">Tipo de diabetes:</label>
                    <select id="diabetesType" name="diabetesType" required>
                        <option value="">Seleccione...</option>
                        <option value="none">Ninguno</option>
                        <option value="type1">Tipo 1</option>
                        <option value="type2">Tipo 2</option>
                        <option value="gestational">Gestacional</option>
                        <option value="other">Otro</option>
                    </select>
                </div>

                <div class="form-field">
                    <label for="patientDebut">Debut:</label>
                    <input type="text" id="patientDebut" name="patientDebut" required>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>Tratamiento</legend>
                <h2>Agentes orales/ GLP-1</h2>

                <div class="form-field orales-label">
                    <label for="agentesorales" class="label-text">¿El paciente actualmente está recibiendo agentes orales?</label> 
                    <select id="agentesorales" name="agentesorales" required>
                        <option value="">Seleccione...</option>
                        <option value="siagentes">SI</option>
                        <option value="noagentes">NO</option>
                    </select>
                </div>
                
                <div id="tablaAgentesOrales" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Medicamento</th>
                                <th>Cantidad</th>
                                <th>Pauta</th>
                                <th>Temporalidad</th>
                                <th>Desde</th>
                                <th>Hasta</th>
                                <th>Adherencia</th>
                                <th>Causa abandono</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td><select id="agentesorales" name="agentesorales" required>
                                    <option value="">Seleccione...</option>
                                    <option value="acido_fenofibrico_rosuvastatina_135_20">ACIDO FENOFIBRICO 135 MG + ROSUVASTATINA 20 MG</option>
                                    <option value="acido_salicilico_100">ACIDO SALICILICO 100 MG</option>
                                    <option value="amlodipina_10">AMLODIPINA 10 MG TABLETA</option>
                                    <option value="amlodipina_5">AMLODIPINA 5 MG TABLETA</option>
                                    <option value="atorvastatina_20">ATORVASTATINA 20 MG</option>
                                    <option value="atorvastatina_20_ezetimibe_10">ATORVASTATINA 20 MG + EZETIMIBE 10 MG</option>
                                    <option value="atorvastatina_40">ATORVASTATINA 40 MG</option>
                                    <option value="atorvastatina_40_ezetimibe_10">ATORVASTATINA 40 MG + EZETIMIBE 10 MG</option>
                                    <option value="atorvastatina_80">ATORVASTATINA 80 MG</option>
                                    <option value="bisoprolol_10">BISOPROLOL 10 MG TABLETA</option>
                                </select></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td>Cada</td>
                                <td><select name="tiempo" id="tiempo">
                                    <option value="">Seleccione...</option>
                                    <option value="horas" selected>Horas</option>
                                    <option value="dias">Días</option>
                                    <option value="semanas">Semanas</option>
                                    <option value="meses">Meses</option>
                                    </select>
                                </td>
                                <td>01/01/2024</td>
                                <td>31/12/2024</td>
                                <td>
                                    <select class="select-option">
                                        <option value="yes">Sí</option>
                                        <option value="no">No</option>
                                    </select>
                                </td>
                                <td>
                                    <select class="select-option">
                                        <option value="order">Orden Médica</option>
                                        <option value="administrative">Administrativo</option>
                                        <option value="patient">Decisión paciente</option>
                                        <option value="patient">Evento adverso</option>
                                    </select>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p><u>Si = el paciente es adherente + del 80%</u></p>
                </div>

                <div class="form-field insulina-label">
                    <label for="insulina" class="insulina">¿El paciente actualmente está recibiendo insulina?</label> 
                    <select id="insulina" name="insulina" required>
                        <option value="">Seleccione...</option>
                        <option value="siinsulina">SI</option>
                        <option value="noinsulina">NO</option>
                    </select>
                </div>

                <div id="tablainsulina" style="display: none;">
                    <h2>Basal</h2>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Tipo</th>
                                <th>AD</th>
                                <th>DD</th>
                                <th>AA</th>
                                <th>DA</th>
                                <th>AC</th>
                                <th>DC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>01/07/2024</td>
                                <td>Insulina Regular</td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="DD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AA" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="DA" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AC" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="DC" min="0" max="1000" step="1" required></td>
                            </tr>
                            
                        </tbody>
                    </table>
                </div>

                <br>
                <br>
                <br>
                <label for="insulinaPrandial" class="insulinaPrandial">¿El paciente se ajusta su insulina?</label>
                <select id="insulinaPrandial" class="select-option">
                    <option value="">Seleccione...</option>
                    <option value="yes">Sí</option>
                    <option value="no">No</option>
                </select>
                <br>
                <br>
                <br>
                <div class="form-field insulinaPrandial-label" id="estrategiaNutricional" style="display: none;">
                    <h2>Prandial</h2>
                    <label for="insulinaPrandial" class="insulinaPrandial">Tipo de estrategia nutricional</label> 
                    <select id="insulinaPrandialSelect" name="insulinaPrandial" required>
                        <option value="">Seleccione...</option>
                        <option value="fija">Fija</option>
                        <option value="basica">Básica</option>
                        <option value="conteo">Conteo</option>
                    </select>
                    <br>
                    <br>
                    <label for="typeinsulina">Tipo de insulina:</label>
                    <input type="text" id="typeinsulina" name="typeinsulina" required>
                </div>
                
                <div class="form-field insulinaPrandial-label" id="insulinaPrandialTabla" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Temporalidad</th>
                                <th>Entre comidas</th>
                                <th>Correcciones</th>
                                <th>AD</th>
                                <th>DD</th>
                                <th>AA</th>
                                <th>DA</th>
                                <th>AC</th>
                                <th>DC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>01/07/2024</td>
                                <td>Por definir</td>
                                <td>Por definir</td>
                                <td>
                                    <select class="select-option">
                                        <option value="">Seleccione...</option>
                                        <option value="Pre">Preprandial</option>
                                        <option value="Post">Postprandial</option>
                                    </select>
                                </td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            </tr>
                        </tbody>
                    </table>
                    <p>En caso de conteo de carbohidratos en el apartado de los momentos del día colocar R: Índice insulina/CHOs y S: Factor de corrección</p>
                </div>

                
                <h2>Bombas de insulina</h2>
                    
                <div class="form-field">
                    <label for="Bombainsulina">¿El paciente actualmente tiene bomba de insulina?</label>
                    <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                        <option value="">Seleccione...</option>
                        <option value="yes">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>
        
                <div id="insulinPumpFields" style="display: none;">
                    <div class="form-field">
                        <label for="instalacionDate">Fecha de instalación de la bomba:</label>
                        <input type="date" id="instalacionDate" name="instalacionDate" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="cambioDate">Fecha de cambio:</label>
                        <input type="date" id="cambioDate" name="cambioDate" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="indicacion">Indicación:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Mal control glucémico</option>
                            <option value="no">Fenómeno del alba</option>
                            <option value="no">Hipoglucemias frecuentes</option>
                            <option value="no">Gastroparesia diabética</option>
                            <option value="no">Otros</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="estadoEmbarazo">Estado de embarazo en el momento de instalación de la bomba:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="marca">Marca:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">MedTronic</option>
                            <option value="no">OmniPod</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="analogoin">Análogo de insulina utilizada:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Regular</option>
                            <option value="no">Aspart</option>
                            <option value="no">Lispro</option>
                            <option value="no">Glulisina</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="tiempoActivo">Tiempo de insulina activa (horas):</label>
                        <input type="number" name="AD" min="0" max="1000" step="1" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="obstruccionCateter">¿Obstrucción del catéter?:</label>
                        <select id="obstruccionCateter" class="select-option" name="obstruccionCateter" onchange="toggleCateterObstructionFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                    
                    <div id="cateterObstructionFields" style="display: none;">
                        <div class="form-field">
                            <label for="numObstrucciones">Número de obstrucciones:</label>
                            <input type="text" id="numObstrucciones" name="numObstrucciones" required>
                        </div>
                    </div>
                    
                    <div class="form-field">
                        <label for="alergiaSensor">¿Alergia al sensor?:</label>
                        <select id="obstruccionCateter" class="select-option" name="obstruccionCateter" onchange="toggleCateterObstructionFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                </div>
                

            <button type="submit">Enviar</button>
        </form>
    </main> 
    
    <script>
        function toggleInsulinPumpFields() {
            const insulinPumpSelect = document.getElementById('Bombainsulina');
            const insulinPumpFields = document.getElementById('insulinPumpFields');
            
            if (insulinPumpSelect.value === 'yes') {
                insulinPumpFields.style.display = 'block';
            } else {
                insulinPumpFields.style.display = 'none';
            }
        }
    
        function toggleCateterObstructionFields() {
            const cateterObstructionSelect = document.getElementById('obstruccionCateter');
            const cateterObstructionFields = document.getElementById('cateterObstructionFields');
            
            if (cateterObstructionSelect.value === 'yes') {
                cateterObstructionFields.style.display = 'block';
            } else {
                cateterObstructionFields.style.display = 'none';
                document.getElementById('numObstrucciones').value = ''; // Limpiar el valor del campo de texto
            }
        }
    
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar tabla de agentes orales si cambia el valor
            document.getElementById('agentesorales').addEventListener('change', function() {
                var table = document.getElementById('tablaAgentesOrales');
                table.style.display = this.value === 'siagentes' ? 'block' : 'none';
            });
    
            // Mostrar tabla de insulina si cambia el valor
            document.getElementById('insulina').addEventListener('change', function() {
                var table = document.getElementById('tablainsulina');
                table.style.display = this.value === 'siinsulina' ? 'block' : 'none';
            });
    
            // Mostrar estrategia nutricional si cambia la selección de ajuste de insulina
            document.getElementById('insulinaPrandial').addEventListener('change', function() {
                var div = document.getElementById('estrategiaNutricional');
                div.style.display = this.value === 'yes' ? 'block' : 'none';
    
                var div2 = document.getElementById('insulinaPrandialTabla');
                div2.style.display = this.value === 'yes' ? 'block' : 'none';
            });
    
            // Inicializar estado de visibilidad de campos según la carga inicial
            toggleInsulinPumpFields();
            toggleCateterObstructionFields();
        });
    </script>
    
    
</body>
</html>
