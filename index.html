<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Especialista en Diabetes</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <main>
        <form id="diabetesForm">
            <div class="form-header">
                <div class="form-header-left">
                    <img src="assets/images/logo2.png" alt="Logo de la Empresa" class="logo">
                </div>
                <div class="form-header-center">
                    <p>HISTORIA CLÍNICA NEURUM IPS</p>
                    <p>CC Punto clave Local 203</p>
                    <p>Cl. 27 #46-70, Medellín</p>
                </div>0


                <div class="form-header-right">
                    <p>Historia Clínica Diabetes</p>
                </div>
            </div>

            <!-- Bloque de formulario para la información del paciente -->
            <fieldset>
                <legend>Información del Paciente</legend>
            
                <div class="form-field">
                    <label for="consultationDate">Fecha de la Consulta:</label>
                    <input type="date" id="consultationDate" name="consultationDate" required>
                </div>
            
                <div class="form-field">
                    <label for="patientId">Identificación:</label>
                    <input type="text" id="identificacion" name="identificacion" required>
                    <button type="button" onclick="buscarPaciente()">Buscar</button>
                </div>
            
                <div class="form-field age-field">
                    <label for="ageYears">Edad:</label>
                    <input type="number" id="ageYears" name="ageYears" placeholder="Años" disabled>
                    <input type="number" id="ageMonths" name="ageMonths" placeholder="Meses" disabled >
                </div>
            
                <div class="form-field">
                    <label for="patientName">Nombre:</label>
                    <input type="text" id="nombre" name="nombre" disabled>
                </div>
            
                <div class="form-field">
                    <label for="patientLastname">Apellidos:</label>
                    <input type="text" id="apellidos" name="apellidos" disabled>
                </div>
            </fieldset>

            <fieldset>
                <legend>Motivo de consulta</legend>
                <div>
                    <div class="form-field insulina-label">
                        <label for="Motivo de consulta" class="Motivo de consulta">Motivo de consulta</label>
                        <select id="Motivo de consulta" class="form-field">
                            <option value="">Seleccione...</option>
                            <option value="yes">Ingreso</option>
                            <option value="no">Control</option>
                            <option value="no">Consulta no programada</option>
                        </select>
                    </div>
            </fieldset>

            <fieldset>
                <legend>Datos patológicos</legend>

                <div class="form-field">
                    <label for="diagnosisDate">Fecha diagnóstico:</label>
                    <input type="date" id="diagnosisDate" name="diagnosisDate" required>
                </div>

                <div class="form-field">
                    <label for="diabetesType">Tipo de diabetes:</label>
                    <select id="diabetesType" name="diabetesType" required onchange="toggleObservacionField()">
                        <option value="">Seleccione...</option>
                        <option value="none">Ninguno</option>
                        <option value="type1">Tipo 1</option>
                        <option value="type2">Tipo 2</option>
                        <option value="gestational">Gestacional</option>
                        <option value="gestational">Pregestacional 1</option>
                        <option value="gestational">Pregestacional 2</option>
                        <option value="other">Otro</option>
                    </select>
                    <input type="text" id="observacion" name="observacion" placeholder="¿Cuál?" class="hidden">
                    <table>
                        <tr>
                            <td><label for="patientDebut">Debut:</label></td>
                            <td><textarea id="descripcion" name="descripcion" rows="4" required></textarea></td>
                        </tr>
                    </table>
                </div>
            </fieldset>

            <fieldset>
                <legend>Complicaciones y Factores de Riesgo</legend>
                <h2 class="sombreado">Complicaciones microvasculares</h2>

            <!--  
            <div class="form-field">
                <label for="cmicrovasculares">¿El paciente cuenta con complicaciones microvasculares?</label>
                <select id="cmicrovasculares" class="select-option" name="cmicrovasculares" onchange="toggleComplications()">
                    <option value="">Seleccione...</option>
                    <option value="si">Sí</option>
                    <option value="no">No</option>
                </select>
            </div>
            

            <div id="microvascularesSection" style="display: none;">
            -->
                <!-- Pregunta para Retinopatía diabética -->
                <div class="form-field">
                    <label for="diabeticRetinopathy">¿Tiene evaluacion oftalmológica?</label>
                    <select id="diabeticRetinopathy" onchange="toggleSection('diabeticRetinopathy', 'retinopathySection')">
                        <option value="">Seleccione una opción...</option>
                        <option value="si">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>

        <!-- Sección Retinopatía diabética -->
        <div id="retinopathySection" style="display: none;">
            <!--<h2>Retinopatía diabética</h2>-->
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Fecha última Evaluación oftalmología</th>
                        <th>Dx de Retinopatía</th>
                        <th>Edema macular</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                        <td class="form-field"><input type="date" id="lastEyeExamDate" name="lastEyeExamDate" required></td>
                        <td>
                            <select id="retinopathyDiagnosis" name="retinopathyDiagnosis">
                                <option value="">Seleccione una opción...</option>
                                <option value="proliferativa">Proliferativa</option>
                                <option value="noProliferativa">No proliferativa</option>
                                <option value="sinRetinopatia">Sin retinopatía</option>
                            </select>
                        </td>
                        <td class="form-field">
                            <select id="edemaMacular" name="edemaMacular">
                                <option value="">Seleccione una opción...</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Pregunta para Nefropatía diabética -->
        <div class="form-field">
            <label for="diabeticNephropathy">¿Tiene nefropatía diabética?</label>
            <select id="diabeticNephropathy" onchange="toggleSection('diabeticNephropathy', 'nephropathySection')">
                <option value="">Seleccione una opción...</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
            </select>
        </div>

        <!-- Sección Nefropatía diabética -->
        <div id="nephropathySection" style="display: none;">
            <h2>Nefropatía diabética</h2>
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>TRR</th>
                        <th>Trasplante</th>
                        <th>Creatinina</th>
                        <th>TFG</th>
                        <th>Albuminuria</th>
                        <th>Clasificación</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="form-field"><input type="date" id="nephropathyDate" name="nephropathyDate" required></td>
                        <td class="form-field">
                            <select id="trr" name="trr">
                                <option value="">Seleccione una opción...</option>
                                <option value="hemodialisis">Hemodiálisis</option>
                                <option value="peritoneal">Peritoneal</option>
                                <option value="no">No</option>
                            </select>
                        </td>
                        <td class="form-field">
                            <select id="transplant" name="transplant">
                                <option value="">Seleccione una opción...</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </td>
                        <td class="form-field">
                            <input type="number" id="creatinine" name="creatinine" min="0" max="1000" step="0.01" required>
                        </td>
                        <td class="form-field">
                            <input type="number" id="tfg" name="tfg" min="0" max="1000" step="0.01" required>
                        </td>
                        <td class="form-field">
                            <input type="number" id="albuminuria" name="albuminuria" min="0" max="1000" step="0.01" required>
                        </td>
                        <td class="form-field">
                            <input type="text" id="classification" name="classification" required>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Pregunta para Neuropatía diabética -->
        <div class="form-field">
            <label for="diabeticNeuropathy">¿Tiene Diagnostico de Neuropatia periferica?</label>
            <select id="diabeticNeuropathy" onchange="toggleSection('diabeticNeuropathy', 'neuropathySection')">
                <option value="">Seleccione una opción...</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
            </select>
        </div>

        <!-- Sección Neuropatía diabética -->
        <div id="neuropathySection" style="display: none;">
            <h2>Sintomas Neuro-sensoriales</h2>
            <!-- Campo de selección para "Dolor" -->
    <div class="form-field">
        <label for="sensitiveNeuropathy">Dolor:</label>
        <select id="sensitiveNeuropathy" name="sensitiveNeuropathy">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
    </div>

    <!-- Detalles de dolor -->
    <div id="painDetailsTable" class="hidden">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Localización</th>
                    <th>Intensidad</th>
                    <th>Compromiso</th>
                    <th>Lateralidad</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <select id="location" name="location">
                            <option value="">Seleccione una opción...</option>
                            <option value="cabeza">Cabeza</option>
                            <option value="cuello">Cuello</option>
                            <option value="hombros">Hombros</option>
                            <option value="brazos">Brazos</option>
                            <option value="manos">Manos</option>
                            <option value="torso">Torso</option>
                            <option value="abdomen">Abdomen</option>
                            <option value="piernas">Piernas</option>
                            <option value="pies">Pies</option>
                        </select>
                    </td>
                    <td>
                        <select id="intensity" name="intensity">
                            <option value="">Seleccione una opción...</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </td>
                    <td>
                        <select id="painLocation" name="painLocation">
                            <option value="">Seleccione una opción...</option>
                            <option value="distal">Distal</option>
                            <option value="proximal">Proximal</option>
                            <option value="ambas">Ambas</option>
                        </select>
                    </td>
                    <td>
                        <select id="painSymmetry" name="painSymmetry">
                            <option value="">Seleccione una opción...</option>
                            <option value="simetrico">Simétrico</option>
                            <option value="asimetrico">Asimétrico</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Campo de selección para "Hormigueo" -->
    <div class="form-field">
        <label for="tingling">Hormigueo:</label>
        <select id="tingling" name="tingling">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
    </div>

    <!-- Detalles de hormigueo -->
    <div id="tinglingDetails" class="hidden">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Localización</th>
                    <th>Intensidad</th>
                    <th>Compromiso</th>
                    <th>Lateralidad</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <select id="tinglingLocation" name="tinglingLocation">
                            <option value="">Seleccione una opción...</option>
                            <option value="cabeza">Cabeza</option>
                            <option value="cuello">Cuello</option>
                            <option value="hombros">Hombros</option>
                            <option value="brazos">Brazos</option>
                            <option value="manos">Manos</option>
                            <option value="torso">Torso</option>
                            <option value="abdomen">Abdomen</option>
                            <option value="piernas">Piernas</option>
                            <option value="pies">Pies</option>
                        </select>
                    </td>
                    <td>
                        <select id="tinglingIntensity" name="tinglingIntensity">
                            <option value="">Seleccione una opción...</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </td>
                    <td>
                        <select id="tinglingLocationType" name="tinglingLocationType">
                            <option value="">Seleccione una opción...</option>
                            <option value="distal">Distal</option>
                            <option value="proximal">Proximal</option>
                            <option value="ambas">Ambas</option>
                        </select>
                    </td>
                    <td>
                        <select id="tinglingSymmetry" name="tinglingSymmetry">
                            <option value="">Seleccione una opción...</option>
                            <option value="simetrico">Simétrico</option>
                            <option value="asimetrico">Asimétrico</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Campo de selección para "Entumecimiento" -->
    <div class="form-field">
        <label for="numbness">Entumecimiento:</label>
        <select id="numbness" name="numbness">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
    </div>

    <!-- Detalles de entumecimiento -->
    <div id="numbnessDetails" class="hidden">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Localización</th>
                    <th>Intensidad</th>
                    <th>Compromiso</th>
                    <th>Lateralidad</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <select id="numbnessLocation" name="numbnessLocation">
                            <option value="">Seleccione una opción...</option>
                            <option value="cabeza">Cabeza</option>
                            <option value="cuello">Cuello</option>
                            <option value="hombros">Hombros</option>
                            <option value="brazos">Brazos</option>
                            <option value="manos">Manos</option>
                            <option value="torso">Torso</option>
                            <option value="abdomen">Abdomen</option>
                            <option value="piernas">Piernas</option>
                            <option value="pies">Pies</option>
                        </select>
                    </td>
                    <td>
                        <select id="numbnessIntensity" name="numbnessIntensity">
                            <option value="">Seleccione una opción...</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </td>
                    <td>
                        <select id="numbnessLocationType" name="numbnessLocationType">
                            <option value="">Seleccione una opción...</option>
                            <option value="distal">Distal</option>
                            <option value="proximal">Proximal</option>
                            <option value="ambas">Ambas</option>
                        </select>
                    </td>
                    <td>
                        <select id="numbnessSymmetry" name="numbnessSymmetry">
                            <option value="">Seleccione una opción...</option>
                            <option value="simetrico">Simétrico</option>
                            <option value="asimetrico">Asimétrico</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Campo de selección para "Pérdida de Sensibilidad" -->
    <div class="form-field">
        <label for="sensitivityLoss">Pérdida de Sensibilidad:</label>
        <select id="sensitivityLoss" name="sensitivityLoss">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
    </div>

    <!-- Detalles de pérdida de sensibilidad -->
    <div id="sensitivityLossDetails" class="hidden">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Localización</th>
                    <th>Intensidad</th>
                    <th>Compromiso</th>
                    <th>Lateralidad</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <select id="sensitivityLossLocation" name="sensitivityLossLocation">
                            <option value="">Seleccione una opción...</option>
                            <option value="cabeza">Cabeza</option>
                            <option value="cuello">Cuello</option>
                            <option value="hombros">Hombros</option>
                            <option value="brazos">Brazos</option>
                            <option value="manos">Manos</option>
                            <option value="torso">Torso</option>
                            <option value="abdomen">Abdomen</option>
                            <option value="piernas">Piernas</option>
                            <option value="pies">Pies</option>
                        </select>
                    </td>
                    <td>
                        <select id="sensitivityLossIntensity" name="sensitivityLossIntensity">
                            <option value="">Seleccione una opción...</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                        </select>
                    </td>
                    <td>
                        <select id="sensitivityLossLocationType" name="sensitivityLossLocationType">
                            <option value="">Seleccione una opción...</option>
                            <option value="distal">Distal</option>
                            <option value="proximal">Proximal</option>
                            <option value="ambas">Ambas</option>
                        </select>
                    </td>
                    <td>
                        <select id="sensitivityLossSymmetry" name="sensitivityLossSymmetry">
                            <option value="">Seleccione una opción...</option>
                            <option value="simetrico">Simétrico</option>
                            <option value="asimetrico">Asimétrico</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // Función para mostrar/ocultar detalles de dolor
        function togglePainDetails() {
            var painSelect = document.getElementById('sensitiveNeuropathy');
            var painDetails = document.getElementById('painDetailsTable');
            
            if (painSelect.value === 'si') {
                painDetails.classList.remove('hidden');
            } else {
                painDetails.classList.add('hidden');
            }
        }

        // Función para mostrar/ocultar detalles de hormigueo
        function toggleTinglingDetails() {
            var tinglingSelect = document.getElementById('tingling');
            var tinglingDetails = document.getElementById('tinglingDetails');
            
            if (tinglingSelect.value === 'si') {
                tinglingDetails.classList.remove('hidden');
            } else {
                tinglingDetails.classList.add('hidden');
            }
        }

        // Función para mostrar/ocultar detalles de entumecimiento
        function toggleNumbnessDetails() {
            var numbnessSelect = document.getElementById('numbness');
            var numbnessDetails = document.getElementById('numbnessDetails');
            
            if (numbnessSelect.value === 'si') {
                numbnessDetails.classList.remove('hidden');
            } else {
                numbnessDetails.classList.add('hidden');
            }
        }

        // Función para mostrar/ocultar detalles de pérdida de sensibilidad
        function toggleSensitivityLossDetails() {
            var sensitivityLossSelect = document.getElementById('sensitivityLoss');
            var sensitivityLossDetails = document.getElementById('sensitivityLossDetails');
            
            if (sensitivityLossSelect.value === 'si') {
                sensitivityLossDetails.classList.remove('hidden');
            } else {
                sensitivityLossDetails.classList.add('hidden');
            }
        }

        // Inicializar eventos cuando el contenido esté cargado
        document.addEventListener('DOMContentLoaded', function() {
            // Asignar eventos de cambio para los selectores
            document.getElementById('sensitiveNeuropathy').addEventListener('change', togglePainDetails);
            document.getElementById('tingling').addEventListener('change', toggleTinglingDetails);
            document.getElementById('numbness').addEventListener('change', toggleNumbnessDetails);
            document.getElementById('sensitivityLoss').addEventListener('change', toggleSensitivityLossDetails);
            
            // Inicializar estado de visibilidad de campos según la carga inicial
            togglePainDetails();
            toggleTinglingDetails();
            toggleNumbnessDetails();
            toggleSensitivityLossDetails();
        });
    </script>
            
            <div class="form-field">
                <label for="otherNeuropathies">Otras Neuropatías:</label>
                <select id="otherNeuropathies" name="otherNeuropathies">
                    <option value="">Seleccione una opción...</option>
                    <option value="si">Sí</option>
                    <option value="no">No</option>
                </select>
            </div>
            <div class="form-field">
                <label for="neuropathyType">Tipo de neuropatía:</label>
                <select id="neuropathyType" name="neuropathyType">
                    <option value="">Seleccione una opción...</option>
                    <option value="disfuncionErectil">Disfunción eréctil</option>
                    <option value="gastroparesia">Gastroparesia</option>
                    <option value="disautonomia">Disautonomía</option>
                    <option value="hipotensionOrtostatica">Hipotensión ortostática</option>
                </select>
            </div>
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Síntomas</th>
                        <th>Intensidad</th>
                        <th>Localización</th>
                        <th>Disfunción eréctil</th>
                        <th>Monofilamento</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="form-field"><input type="date" id="symptomDate" name="symptomDate" required></td>
                        <td>
                            <select id="symptoms" name="symptoms">
                                <option value="">Seleccione una opción...</option>
                                <option value="parestesia">Parestesia</option>
                                <option value="disestesia">Disestesia</option>
                                <option value="anestesia">Anestesia</option>
                                <option value="dolor">Dolor</option>
                            </select>
                        </td>
                        <td class="form-field">
                            <select id="intensity" name="intensity">
                                <option value="">Escala del dolor</option>
                                <script>
                                    for (let i = 1; i <= 10; i++) {
                                        document.write(`<option value="${i}">${i}</option>`);
                                    }
                                </script>
                            </select>
                        </td>
                        <td class="form-field">
                            <input type="text" id="localization" name="localization" required>
                        </td>
                        <td class="form-field">
                            <select id="erectileDysfunction" name="erectileDysfunction">
                                <option value="">Seleccione una opción...</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </td>
                        <td class="form-field">
                            <select id="monofilamento" name="monofilamento">
                                <option value="">Seleccione una opción...</option>
                                <option value="positivo">Positivo</option>
                                <option value="sensible">Sensible</option>
                                <option value="negativo">Negativo</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Pregunta para Pie diabético -->
        <div class="form-field">
            <label for="diabeticFoot">¿Tiene pie diabético?</label>
            <select id="diabeticFoot" onchange="toggleSection('diabeticFoot', 'footSection')">
                <option value="">Seleccione una opción...</option>
                <option value="si">Sí</option>
                <option value="no">No</option>
            </select>
        </div>

        <!-- Sección Pie diabético -->
        <div id="footSection" style="display: none;">
            <h2>Pie diabético</h2>
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Deformidad</th>
                        <th>Antecedente de úlcera</th>
                        <th>Úlcera activa</th>
                        <th>Antecedente de amputación</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="form-field"><input type="date" id="footDate" name="footDate" required></td>
                        <td class="form-field">
                            <input type="text" id="deformity" name="deformity" required>
                        </td>
                        <td class="form-field">
                            <input type="text" id="ulcerHistory" name="ulcerHistory" required>
                        </td>
                        <td class="form-field">
                            <input type="text" id="activeUlcer" name="activeUlcer" required>
                        </td>
                        <td>
                            <select id="amputationHistory" name="amputationHistory">
                                <option value="">Seleccione una opción...</option>
                                <option value="dedos">Dedos</option>
                                <option value="antepie">Antepié</option>
                                <option value="infraCondilea">Infra condílea</option>
                                <option value="supraCondilea">Supra condílea</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function toggleSection(selectId, sectionId) {
            var selectElement = document.getElementById(selectId);
            var sectionElement = document.getElementById(sectionId);
            if (selectElement.value === "si") {
                sectionElement.style.display = "block";
            } else {
                sectionElement.style.display = "none";
            }
        }

        function toggleComplications() {
            var selectElement = document.getElementById('cmicrovasculares');
            var sectionElement = document.getElementById('microvascularesSection');
            if (selectElement.value === "si") {
                sectionElement.style.display = "block";
            } else {
                sectionElement.style.display = "none";
                hideAllSections();
            }
        }

        function hideAllSections() {
            var sections = ['retinopathySection', 'nephropathySection', 'neuropathySection', 'footSection'];
            sections.forEach(function(sectionId) {
                var sectionElement = document.getElementById(sectionId);
                if (sectionElement) {
                    sectionElement.style.display = "none";
                }
            });
        }
    </script>

    <h2 class="sombreado">Complicaciones macrovasculares</h2>
    <!-- Pregunta general para Complicaciones Macrovasculares -->
     <div class="form-field">
    <label for="macrovascularComplications">¿Tiene complicaciones macrovasculares?</label>
    <select id="macrovascularComplications" onchange="toggleSection('macrovascularComplications', 'macrovascularSection')">
        <option value="">Seleccione una opción...</option>
        <option value="si">Sí</option>
        <option value="no">No</option>
    </select>
    </div>

    <!-- Sección Complicaciones Macrovasculares -->
        <div id="macrovascularSection" style="display: none;">
        

        <!-- Enfermedad Coronaria -->
         <div class="form-field">
        <label for="coronaryDisease">¿Sufre de Enfermedad Coronaria?</label>
        <select id="coronaryDisease" onchange="toggleTable('coronaryDisease', 'coronaryDiseaseTable')">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
        </div>

        <table id="coronaryDiseaseTable" class="styled-table" style="display: none;">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Dx de enfermedad coronaria (Fecha)</th>
                    <th>Revascularizado</th>
                    <th>Síntomas</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="form-field"><input type="date" id="coronaryDiseaseDate" name="coronaryDiseaseDate" required></td>
                    <td class="form-field"><input type="date" id="coronaryDiseaseDxDate" name="coronaryDiseaseDxDate" required></td>
                    <td class="form-field">
                        <input type="text" id="coronaryDiseaseRevascularized" name="coronaryDiseaseRevascularized" required>
                    </td>
                    <td>
                        <select id="coronarySymptoms">
                            <option value="">Seleccione una opción...</option>
                            <option value="disnea">Disnea</option>
                            <option value="angina">Angina</option>
                            <option value="bendopnea">Bendopnea</option>
                            <option value="edemas">Edemas</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- Insuficiencia Cardiaca -->
         <div class="form-field">
        <label for="heartFailure">¿Sufre de Insuficiencia Cardiaca?</label>
        <select id="heartFailure" onchange="toggleTable('heartFailure', 'heartFailureTable')">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
        </div>

        <table id="heartFailureTable" class="styled-table" style="display: none;">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Dx de IC</th>
                    <th>FEVI</th>
                    <th>Strain</th>
                    <th>Síntomas</th>
                    <th>Clase funcional NYHA</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="form-field"><input type="date" id="heartFailureDate" name="heartFailureDate" required></td>
                    <td class="form-field"><input type="text" id="heartFailureDx" name="heartFailureDx" required></td>
                    <td class="form-field"><input type="text" id="fevi" name="fevi" required></td>
                    <td class="form-field"><input type="text" id="strain" name="strain" required></td>
                    <td>
                        <select id="heartFailureSymptoms">
                            <option value="">Seleccione una opción...</option>
                            <option value="disnea">Disnea</option>
                            <option value="angina">Angina</option>
                            <option value="bendopnea">Bendopnea</option>
                            <option value="edemas">Edemas</option>
                        </select>
                    </td>
                    <td class="form-field"><input type="text" id="nyhaClass" name="nyhaClass" required></td>
                </tr>
            </tbody>
        </table>

        <!-- Enfermedad Neurológica -->
         <div class="form-field">
        <label for="neurologicalDisease">¿Sufre de Enfermedad Neurológica?</label>
        <select id="neurologicalDisease" onchange="toggleTable('neurologicalDisease', 'neurologicalDiseaseTable')">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
        </div>

        <table id="neurologicalDiseaseTable" class="styled-table" style="display: none;">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Dx de ACV</th>
                    <th>Tipo de ACV</th>
                    <th>Revascularizado</th>
                    <th>Secuelas</th>
                    <th>Tipo de secuelas</th>
                    <th>Isquemia Cerebral transitoria (fecha)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="form-field"><input type="date" id="neurologicalDiseaseDate" name="neurologicalDiseaseDate" required></td>
                    <td class="form-field"><input type="text" id="acvDiagnosis" name="acvDiagnosis" required></td>
                    <td class="form-field"><input type="text" id="acvType" name="acvType" required></td>
                    <td class="form-field"><input type="text" id="revascularizedNeurological" name="revascularizedNeurological" required></td>
                    <td class="form-field"><input type="text" id="sequelae" name="sequelae" required></td>
                    <td class="form-field"><input type="text" id="sequelaeType" name="sequelaeType" required></td>
                    <td class="form-field"><input type="date" id="transientIschemiaDate" name="transientIschemiaDate" required></td>
                </tr>
            </tbody>
        </table>

        <!-- Fibrilación Auricular -->
        <div class="form-field">
        <label for="atrialFibrillation">¿Sufre de Fibrilación Auricular?</label>
        <select id="atrialFibrillation" onchange="toggleTable('atrialFibrillation', 'atrialFibrillationTable')">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
        </div>

        <table id="atrialFibrillationTable" class="styled-table" style="display: none;">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Dx de FA</th>
                    <th>Tipo de FA</th>
                    <th>Anticoagulación</th>
                    <th>Ablación</th>
                    <th>Marcapasos</th>
                    <th>Fecha última EKG</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="form-field"><input type="date" id="atrialFibrillationDate" name="atrialFibrillationDate" required></td>
                    <td class="form-field"><input type="text" id="faDiagnosis" name="faDiagnosis" required></td>
                    <td class="form-field"><input type="text" id="faType" name="faType" required></td>
                    <td class="form-field"><input type="text" id="anticoagulation" name="anticoagulation" required></td>
                    <td class="form-field"><input type="text" id="ablation" name="ablation" required></td>
                    <td class="form-field"><input type="text" id="pacemaker" name="pacemaker" required></td>
                    <td class="form-field"><input type="date" id="lastEkgDate" name="lastEkgDate" required></td>
                </tr>
            </tbody>
        </table>

        <!-- Enfermedad Vascular Periférica -->
         <div class="form-field">
        <label for="peripheralVascularDisease">¿Sufre de Enfermedad Vascular Periférica?</label>
        <select id="peripheralVascularDisease" onchange="toggleTable('peripheralVascularDisease', 'peripheralVascularDiseaseTable')">
            <option value="">Seleccione una opción...</option>
            <option value="si">Sí</option>
            <option value="no">No</option>
        </select>
        </div>

        <table id="peripheralVascularDiseaseTable" class="styled-table" style="display: none;">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Dx de EAP</th>
                    <th>Revascularizado</th>
                    <th>Pulsos</th>
                    <th>Claudicación</th>
                    <th>Marcapasos</th>
                    <th>Antecedente de amputación (Lugar)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="form-field"><input type="date" id="peripheralVascularDiseaseDate" name="peripheralVascularDiseaseDate" required></td>
                    <td class="form-field"><input type="text" id="eapDiagnosis" name="eapDiagnosis" required></td>
                    <td class="form-field"><input type="text" id="revascularizedPeripheral" name="revascularizedPeripheral" required></td>
                    <td class="form-field"><input type="text" id="pulses" name="pulses" required></td>
                    <td class="form-field"><input type="text" id="claudication" name="claudication" required></td>
                    <td class="form-field"><input type="text" id="pacemakerPeripheral" name="pacemakerPeripheral" required></td>
                    <td>
                        <select id="amputationHistory">
                            <option value="">Seleccione una opción...</option>
                            <option value="dedos">Dedos</option>
                            <option value="antepie">Antepié</option>
                            <option value="infraCondilea">Infra condílea</option>
                            <option value="supraCondilea">Supra condílea</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        function toggleSection(selectId, sectionId) {
            var select = document.getElementById(selectId);
            var section = document.getElementById(sectionId);
            if (select.value === 'si') {
                section.style.display = 'block';
            } else {
                section.style.display = 'none';
            }
        }

        function toggleTable(selectId, tableId) {
            var select = document.getElementById(selectId);
            var table = document.getElementById(tableId);
            if (select.value === 'si') {
                table.style.display = 'table';
            } else {
                table.style.display = 'none';
            }
        }
    </script>


                <h2 class="sombreado">Factores De Riesgo Asociados</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>HTA fecha</th>
                            <th>Dislipidemia fecha</th>
                            <th>Esteatosis Hepática</th>
                            <th>FIB 4</th>
                            <th>SAHOS</th>
                            <th>Tabaquismo (IPA)</th>
                            <th>Obesidad (IMC)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                             <td class="form-field">
                                    <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <a href="https://www.mdcalc.com/calc/2200/fibrosis-4-fib-4-index-liver-fibrosis" target="_blank" class="styled-link">Calculadora de índice FIB-4 en MDCalc</a>
                <h2 class="sombreado">Comorbilidades</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Comorbilidad</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </fieldset>
            
            <fieldset>
                <legend>Tratamiento</legend>
                <h2>Agentes orales/ GLP-1</h2>

                <div class="form-field orales-label">
                    <label for="agentesorales" class="label-text">¿El paciente actualmente está recibiendo agentes orales?</label> 
                    <select id="agentesorales" name="agentesorales" required>
                        <option value="">Seleccione...</option>
                        <option value="siagentes">SI</option>
                        <option value="noagentes">NO</option>
                    </select>
                </div>
                
                <div id="tablaAgentesOrales" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Fecha</th>
                                <th>Medicamento</th>
                                <th>Dosis</th>
                                <th>Via</th>
                                <th>Cada</th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th>Temporalidad</th>
                                <th>Desde</th>
                                <th>Hasta</th>
                                <th>Adherencia</th>
                                <th>Causa abandono</th>
                                <th class="observacion-column-title">Observación</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="checkbox" id="genericCheckbox" name="genericCheckbox"></td>
                                <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td>
                                    <select id="agentesorales" name="agentesorales" required>
                                        <option value="">Seleccione...</option>
                                        <option value="acido_fenofibrico_rosuvastatina_135_20">ACIDO FENOFIBRICO 135 MG + ROSUVASTATINA 20 MG</option>
                                        <option value="acido_salicilico_100">ACIDO SALICILICO 100 MG</option>
                                        <option value="amlodipina_10">AMLODIPINA 10 MG TABLETA</option>
                                        <option value="amlodipina_5">AMLODIPINA 5 MG TABLETA</option>
                                        <option value="atorvastatina_20">ATORVASTATINA 20 MG</option>
                                        <option value="atorvastatina_20_ezetimibe_10">ATORVASTATINA 20 MG + EZETIMIBE 10 MG</option>
                                        <option value="atorvastatina_40">ATORVASTATINA 40 MG</option>
                                        <option value="atorvastatina_40_ezetimibe_10">ATORVASTATINA 40 MG + EZETIMIBE 10 MG</option>
                                        <option value="atorvastatina_80">ATORVASTATINA 80 MG</option>
                                        <option value="bisoprolol_10">BISOPROLOL 10 MG TABLETA</option>
                                    </select>
                                </td>
                                <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><select >
                                    <option value="">Seleccione...</option>
                                    <option value="order">Oral</option>
                                    <option value="administrative">Subcutanea</option>
                                    <option value="administrative">Intravenosa</option>
                                    </select>
                                </td>
                                <td>Cada</td>
                                <td>
                                    <select name="cantidadHoras" id="cantidadHoras" required>
                                        <option value="">Seleccione...</option>
                                    </select>
                                </td>
                                <td>Durante</td>
                                <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><select>
                                    <option value="">Seleccione...</option>
                                    <option value="order">Dias</option>
                                    <option value="administrative">Semanas</option>
                                    <option value="patient">Meses</option>
                                    </select>
                                </td>
                                <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td>
                                    <select class="select-option">
                                        <option value="yes">Sí</option>
                                        <option value="no">No</option>
                                    </select>
                                </td> 

                                <td>
                                    <select class="select-option causa-abandono">
                                        <option value="">Seleccione...</option>
                                        <option value="order">Orden Médica</option>
                                        <option value="administrative">Administrativo</option>
                                        <option value="patient">Decisión paciente</option>
                                        <option value="adverse_event">Evento adverso</option>
                                    </select>
                                </td>
                                <td class="observacion-column">
                                    <input type="text" name="observacion" placeholder="Escriba la observación">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="botonesmedi">
                        <button type="submit" id="addRowBtn" class="addmedi">Agregar</button>
                        <button type="submit" class="addmedi">Editar</button>
                    </div>
                    <p><u>Si = el paciente es adherente + del 80%</u></p>
                </div>

                <div>
                    <h2>Insulina</h2>
                    <div class="form-field">
                        <label for="insulina1">¿El paciente actualmente recibe insulina?</label>
                        <select id="insulina1" class="select-option" name="insulina1" onchange="toggleInsulinDetails()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                </div>

                <div id="insulin-details" class="hidden insulin-details">
                <h2>Bombas de insulina</h2>
                    
                <div class="form-field">
                    <label for="Bombainsulina">¿El paciente actualmente tiene bomba de insulina?</label>
                    <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                        <option value="">Seleccione...</option>
                        <option value="yes">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>
                
                
                <div id="insulinPumpFields" style="display: none;">
                    <div class="form-field">
                        <label for="instalacionDate">Fecha de instalación de la bomba:</label>
                        <input type="date" id="instalacionDate" name="instalacionDate" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="cambioDate">Fecha de cambio:</label>
                        <input type="date" id="cambioDate" name="cambioDate" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="indicacion">Indicación:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Mal control glucémico</option>
                            <option value="no">Fenómeno del alba</option>
                            <option value="no">Hipoglucemias frecuentes</option>
                            <option value="no">Gastroparesia diabética</option>
                            <option value="no">Otros</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="estadoEmbarazo">Estado de embarazo en el momento de instalación de la bomba:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="marca">Marca:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">MedTronic</option>
                            <option value="no">OmniPod</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label for="analogoin">Análogo de insulina utilizada:</label>
                        <select id="Bombainsulina" class="select-option" name="Bombainsulina" onchange="toggleInsulinPumpFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Regular</option>
                            <option value="no">Aspart</option>
                            <option value="no">Lispro</option>
                            <option value="no">Glulisina</option>
                        </select>
                    </div>
                    
                    <!--<div class="form-field">
                        <label for="tiempoActivo">Tiempo de insulina activa (horas):</label>
                        <input type="number" name="AD" min="0" max="1000" step="1" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="obstruccionCateter">¿Obstrucción del catéter?:</label>
                        <select id="obstruccionCateter" class="select-option" name="obstruccionCateter" onchange="toggleCateterObstructionFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div> 
                    
                    <div id="cateterObstructionFields" style="display: none;">
                        <div class="form-field">
                            <label for="numObstrucciones">Número de obstrucciones:</label>
                            <input type="number" id="numObstrucciones" name="numObstrucciones" placeholder="Pendiente definir tipo de dato" required>
                        </div>
                    </div>
                    
                    <div class="form-field">
                        <label for="alergiaSensor">¿Alergia al sensor?:</label>
                        <select id="obstruccionCateter" class="select-option" name="obstruccionCateter" onchange="toggleCateterObstructionFields()">
                            <option value="">Seleccione...</option>
                            <option value="yes">Sí</option>
                            <option value="no">No</option>
                        </select>
                    </div>-->
                </div>


                <h2>Basal</h2>
                <div class="form-field insulina-label">
                    <label for="insulina" class="insulina">¿El paciente actualmente está recibiendo insulina Basal?</label> 
                    <select id="insulina" name="insulina" required>
                        <option value="">Seleccione...</option>
                        <option value="siinsulina">SI</option>
                        <option value="noinsulina">NO</option>
                    </select>
                </div>

                <div id="tablainsulina" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Tipo</th>
                                <th>Presentacion</th>
                                <th>Unidades dia</th>
                                <th>DD</th>
                                <th>AA</th>
                                <th>DA</th>
                                <th>AC</th>
                                <th>DC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td class="form-field"><select id="insulinaBasal" class="form-field">
                                    <option value="">Seleccione...</option>
                                    <option value="detemir">detemir</option>
                                    <option value="glargina">glargina</option>
                                    <option value="Glargina_biosimilar">Glargina biosimilar</option>
                                    <option value="Glargina_biosimilar">glargina U-300</option>
                                    <option value="Glargina_biosimilar">degludec</option>
                                </select>
                                </td>
                                <td class="form-field"><select id="insulinaBasal" class="form-field">
                                    <option value="">Seleccione...</option>
                                    <option value="detemir">detemir</option>
                                    <option value="glargina">glargina</option>
                                    <option value="Glargina_biosimilar">Glargina biosimilar</option>
                                    <option value="Glargina_biosimilar">glargina U-300</option>
                                    <option value="Glargina_biosimilar">degludec</option>
                                </select>
                                </td>
                                <td class="form-field"><input type="number" name="DD" min="0" max="1000" step="1" required></td>
                                <td class="form-field"><input type="number" name="DD" min="0" max="1000" step="1" required></td>
                                <td class="form-field"><input type="number" name="AA" min="0" max="1000" step="1" required></td>
                                <td class="form-field"><input type="number" name="DA" min="0" max="1000" step="1" required></td>
                                <td class="form-field"><input type="number" name="AC" min="0" max="1000" step="1" required></td>
                                <td class="form-field"><input type="number" name="DC" min="0" max="1000" step="1" required></td>
                            </tr>
                            
                        </tbody>
                    </table>
                </div>

                <br>
                <br>
                <h2>Prandial</h2>
                <div class="form-field insulina-label">
                <label for="insulinaPrandial" class="insulinaPrandial">¿El paciente actualmente está recibiendo insulina Prandial</label>
                <select id="insulinaPrandial" class="form-field">
                    <option value="">Seleccione...</option>
                    <option value="yes">Sí</option>
                    <option value="no">No</option>
                </select>
                </div>
                <br>
                <br>
                <div class="form-field insulinaPrandial-label" id="estrategiaNutricional" style="display: none;">
                    <h2>Prandial</h2>
                    <label for="insulinaPrandial" class="insulinaPrandial">Tipo de estrategia nutricional</label> 
                    <select id="insulinaPrandialSelect" name="insulinaPrandial" required>
                        <option value="">Seleccione...</option>
                        <option value="fija">Fija</option>
                        <option value="basica">Básica</option>
                        <option value="conteo">Conteo</option>
                    </select>
                    <br>
                    <br>
                    <label for="typeinsulina">Tipo de insulina:</label>
                    <select id="insulinaPrandial" class="form-field">
                        <option value="">Seleccione...</option>
                        <option value="yes">Análogos ultrarrápidos</option>
                        <option value="no">Insulina rápida</option>
                    </select>
                </div>
                
                <div class="form-field insulinaPrandial-label" id="insulinaPrandialTabla" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Temporalidad</th>
                                <th>Entre comidas</th>
                                <th>Correcciones</th>
                                <th>AD</th>
                                <th>DD</th>
                                <th>AA</th>
                                <th>DA</th>
                                <th>AC</th>
                                <th>DC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td><select id="insulinaPrandial" class="form-field">
                                    <option value="">Seleccione...</option>
                                    <option value="yes">Adecuada</option>
                                    <option value="no">Inadecuada</option>
                                </select></td>
                                <td><select id="insulinaPrandial" class="form-field">
                                    <option value="">Seleccione...</option>
                                    <option value="yes">Si</option>
                                    <option value="no">No</option>
                                </select></td>
                                <td>
                                    <select class="select-option">
                                        <option value="">Seleccione...</option>
                                        <option value="Pre">Preprandial</option>
                                        <option value="Post">Postprandial</option>
                                    </select>
                                </td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            </tr>
                        </tbody>
                    </table>
                </div> 

                <div class="form-field insulinaPrandial-label" id="insulinaPrandialTabla2" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Temporalidad</th>
                                <th>Entre comidas</th>
                                <th>Correcciones</th>
                                <th>AD</th>
                                <th>DD</th>
                                <th>AA</th>
                                <th>DA</th>
                                <th>AC</th>
                                <th>DC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td><select id="insulinaPrandial" class="form-field">
                                    <option value="">Seleccione...</option>
                                    <option value="yes">Adecuada</option>
                                    <option value="no">Inadecuada</option>
                                </select></td>
                                <td><select id="insulinaPrandial" class="form-field">
                                    <option value="">Seleccione...</option>
                                    <option value="yes">Si</option>
                                    <option value="no">No</option>
                                </select></td>
                                <td>
                                    <select class="select-option">
                                        <option value="">Seleccione...</option>
                                        <option value="Pre">Preprandial</option>
                                        <option value="Post">Postprandial</option>
                                    </select>
                                </td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required><input type="text" name="AD"  required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required><input type="text" name="AD"  required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required><input type="text" name="AD"  required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required><input type="text" name="AD"  required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required><input type="text" name="AD"  required></td>
                                <td><input type="number" name="AD" min="0" max="1000" step="1" required><input type="text" name="AD"  required></td>
                            </tr>
                        </tbody>
                    </table>
                    <p>En caso de conteo de carbohidratos en el apartado de los momentos del día colocar R: Índice insulina/CHOs y S: Factor de corrección</p>
                </div>   
                
            </div>
            </fieldset>


            <fieldset>
                <legend>Habitos de vida</legend>

                <div class="form-field">
                    <label for="actividadFisica">¿El paciente realiza actividad física?</label>
                    <select id="actividadFisica" class="select-option" name="actividadFisica" onchange="toggleActividadFisicaFields()">
                        <option value="">Seleccione...</option>
                        <option value="yes">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>
                
                <div id="tablaActividadFisica" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Duración</th>
                                <th>Frecuencia</th>
                                <th>Intensidad</th>
                                <th>Tipo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                                <td>
                                    <select id="horasActividadFisica" class="select-option" name="horasActividadFisica">
                                        <option value="">Seleccione...</option>
                                        <!-- Generar opciones de 0 a 24 horas -->
                                    </select>
                                </td>
                                <td>
                                    <select id="frecuenciaActividad" name="frecuenciaActividad" class="select-option">
                                        <option value="">Seleccione...</option>
                                        <option value="diario">Diario</option>
                                        <option value="semanal">Semanal</option>
                                        <option value="mensual">Mensual</option>
                                        <option value="anual">Anual</option>
                                    </select>
                                </td>
                                <td>
                                    <select id="frecuenciaActividad" name="frecuenciaActividad" class="select-option">
                                        <option value="">Seleccione...</option>
                                        <option value="diario">Leve</option>
                                        <option value="semanal">Moderada</option>
                                        <option value="mensual">Intensa</option>
                                    </select>
                                </td>
                                <td class="form-field">
                                    <input type="text" id="tipoActividad" name="tipoActividad" required>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                

                <h2>Nutrición</h2>
                <div id="tablaAtividadfisica">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>No. Comidas al día</th>
                                <th>Apetito</th>
                                <th>Ansiedad</th>
                                <th id="thCual" style="display: none;">Cual</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="form-field">
                                    <input type="date" id="consultationDate" name="consultationDate" required>
                                </td>
                                <td>
                                    <select id="numComidas" class="select-option" name="numComidas">
                                        <option value="">Seleccione...</option>
                                        <script>
                                            for (let i = 1; i <= 20; i++) {
                                                document.write(`<option value="${i}">${i}</option>`);
                                            }
                                        </script>
                                    </select>
                                </td>
                                <td>
                                    <select id="opciones">
                                        <option value="">Seleccione una opción...</option>
                                        <option value="platoCompleto">Plato completo</option>
                                        <option value="medioPlato">Medio Plato</option>
                                        <option value="cuartoPlato">1/4 del plato</option>
                                    </select>
                                </td>
                                <td class="form-field">
                                    <select id="ansiedad" name="ansiedad" class="select-option" onchange="toggleAnsiedadObservacion()">
                                        <option value="">Seleccione...</option>
                                        <option value="si">Sí</option>
                                        <option value="no">No</option>
                                    </select>
                                </td>
                                <td class="form-field" id="ansiedadObservacionField" style="display: none;">
                                    <input type="text" id="obseransi" name="obseransi" placeholder="Observación" required>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <script>
                    function toggleAnsiedadObservacion() {
                        const ansiedadSelect = document.getElementById('ansiedad');
                        const ansiedadObservacionField = document.getElementById('ansiedadObservacionField');
                        const thCual = document.getElementById('thCual');
                        
                        if (ansiedadSelect.value === 'si') {
                            ansiedadObservacionField.style.display = 'table-cell';
                            thCual.style.display = 'table-cell';
                        } else {
                            ansiedadObservacionField.style.display = 'none';
                            thCual.style.display = 'none';
                        }
                    }
                </script>

            </fieldset>


            <fieldset>
                <legend>Enfermedad activa</legend>
                
                    <table>
                        <tr>
                            <td><label for="descripcion">Revision de Sistemas:</label></td>
                            <td><textarea id="descripcion" name="descripcion" rows="2" required></textarea></td>
                        </tr>
                    </table>
                </div>
                <h2>Signos vitales</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Presión Arterial (mmHg)</th>
                            <th>Frecuencia Cardiaca (LPM)</th>
                            <th>Frecuencia Respiratoria (RPM)</th>
                            <th>Temperatura (ºC)</th>
                            <th>Perimetro abdominal</th>
                            <th>Saturación de Oxigeno (%)</th>
                            <th>Peso</th>
                            <th>talla</th>
                            <th>IMC</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="number" name="sistolica" min="0" max="1000" step="1" placeholder="Sistólica" required>
                                <input type="number" name="diastolica" min="0" max="1000" step="1" placeholder="Diastólica" required>
                            </td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                            <td class="form-field"><input type="number" name="AD" min="0" max="1000" step="1" required></td>
                        </tr>
                    </tbody>
                </table>

               
                

                <br>
                <h2>Examen fisico</h2>
                <table>
                    <tr>
                        <td><label for="fechaConsulta">Fecha de Consulta:</label></td>
                        <td class="form-field"><input type="date" id="fechaConsulta" name="fechaConsulta" required></td>
                    </tr>

                    <tr>
                        <td><label for="descripcion">General:</label></td>
                        <td><textarea id="descripcion" name="descripcion" rows="4" required></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="cabezaOrl">Piel-Anexos:</label></td>
                        <td><textarea id="cabezaOrl" name="cabezaOrl" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="cuello">Pies:</label></td>
                        <td><textarea id="cuello" name="cuello" rows="4"></textarea></td>
                    </tr>
                    <!--
                    <tr>
                        <td><label for="torax">Tórax:</label></td>
                        <td><textarea id="torax" name="torax" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="abdomen">Abdomen:</label></td>
                        <td><textarea id="abdomen" name="abdomen" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="genitourinario">Genitourinario:</label></td>
                        <td><textarea id="genitourinario" name="genitourinario" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="osteomuscular">Osteomuscular:</label></td>
                        <td><textarea id="osteomuscular" name="osteomuscular" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="piel">Piel:</label></td>
                        <td><textarea id="piel" name="piel" rows="4"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="neurologico">Neurológico:</label></td>
                        <td><textarea id="neurologico" name="neurologico" rows="4"></textarea></td>
                    </tr>
                    <tr>
                       
                    </tr>
                -->
                </table>
            </fieldset>

            

            <fieldset>
                <legend>Control Metabolico</legend>
                <h2 class="sombreado">Paraclínicos</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Glicemia</th>
                            <th>TSH</th>
                            <th>HB</th>
                            <th>Plaquetas</th>
                            <th>Leucocitos</th>
                            <th>AST</th>
                            <th>ALT</th>
                            <th>Colesterol Total</th>
                            <th>HDL</th>
                            <th>LDL</th>
                            <th>Triglicéridos</th>
                            <th>Otros</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h2 class="sombreado">Control Metabolico</h2>
                <h2>HbA1c</h2>
                
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>HbA1c</th>
                            <th>Interpretación</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h2>Glucometrías</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>No. X día </th>
                            <th>Media GS</th>
                            <th>DE</th>
                            <th>CV</th>
                            <th>PAR</th>
                            <th>PER</th>
                            <th>PDR</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <table>
                    <tr>
                        <td><label for="descripcion">Interpretacion:</label></td>
                        <td><textarea id="descripcion" name="descripcion" rows="4" required></textarea></td>
                    </tr>
                </table>

                <h2>MCG</h2>
                <div class="form-field">
                    <label for="patientName">Tipo:</label>
                    <input type="text" id="patientName" name="patientName" required>
                </div>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>No. de días</th>
                            <th>Uso %</th>
                            <th>Auto / SG %</th>
                            <th>Media Gs</th>
                            <th>GMI</th>
                            <th>CV</th>
                            <th>TAR</th>
                            <th>TIR / TIRe</th>
                            <th>TBR</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>

             <table> 
                <tr>
                    <td><label for="descripcion">Interpretacion:</label></td>
                    <td><textarea id="descripcion" name="descripcion" rows="4" required></textarea></td>
                </tr>
            </table>  

            </fieldset>

            <fieldset>
                <legend>Eventos Criticos</legend>
                <h2 class="sombreado">Hipoglucemias</h2>
                <h2>Hipoglucemias Leves</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Hipoglicemias Leve</th>
                            <th>Síntomas</th>
                            <th>Valor</th>
                            <th>Cuantos último mes</th>
                            <th>Patrón</th>
                            <th>Frecuencia</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>Hipoglucemias Severas</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Hipoglicemias Leve</th>
                            <th>Síntomas</th>
                            <th>Valor</th>
                            <th>Cuantos último mes</th>
                            <th>Patrón</th>
                            <th>Frecuencia</th>
                            <th>Asistencia de terceros</th>
                            <th>Glucagón</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="consultationDate" name="consultationDate" required></td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                            <td class="form-field">
                                <input type="text" id="patientName" name="patientName" required>
                            </td>
                        </tr>
                    </tbody>
                </table>


                <h2 class="sombreado">Ausentismo y hospitalización debido a la diabetes</h2>
                <h2>Hospitalización</h2>
                <div class="form-field">
                    <label for="hospitalizadoDiabetes">¿Se ha hospitalizado debido a su diabetes en el último año?: </label>
                    <select id="hospitalizadoDiabetes" class="select-option" name="hospitalizadoDiabetes" onchange="toggleHospitalizacionFields()">
                        <option value="">Seleccione...</option>
                        <option value="yes">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>
                
                <div class="form-field" id="diagnosisField" style="display: none;">
                    <label for="diagnosticoHospitalizacion">¿El diagnóstico de hospitalización es diferente a la diabetes?: </label>
                    <select id="diagnosticoHospitalizacion" class="select-option" name="diagnosticoHospitalizacion" onchange="toggleTableField()">
                        <option value="">Seleccione...</option>
                        <option value="yes">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>
                
                <div id="hospitalizacionTable" style="display: none;">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Diagnóstico</th>
                                <th>Causas diabetes</th>
                                <th>Causas complicaciones</th>
                                <th>UCI</th>
                                <th>Días</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="form-field"><input type="date" id="fechaDiagnostico" name="fechaDiagnostico" required></td>
                                <td class="form-field"><input type="text" id="diagnostico" name="diagnostico" required></td>
                                <td class="form-field">
                                    <select id="enfermedades" name="enfermedades">
                                        <option value="enfermedad_coronaria">Enfermedad Coronaria</option>
                                        <option value="enfermedad_cerebrovascular">Enfermedad Cerebrovascular</option>
                                        <option value="isquemia_critica_miembros_inferiores">Isquemia Crítica de Miembros Inferiores</option>
                                        <option value="nefropatia">Nefropatía</option>
                                        <option value="pie_diabetico">Pie Diabético</option>
                                    </select>
                                </td>
                                <td class="form-field"><select id="enfermedades" name="enfermedades">
                                    <option value="enfermedad_coronaria">Enfermedad Coronaria</option>
                                    <option value="enfermedad_cerebrovascular">Enfermedad Cerebrovascular</option>
                                    <option value="isquemia_critica_miembros_inferiores">Isquemia Crítica de Miembros Inferiores</option>
                                    <option value="nefropatia">Nefropatía</option>
                                    <option value="pie_diabetico">Pie Diabético</option>
                                </select></td>
                                <td class="form-field"><input type="text" id="dias" name="dias" required></td>
                                <td class="form-field"><input type="text" id="dias" name="dias" required></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2>Visitas a Urgencias</h2>
                <div class="form-field">
                    <label for="visitasUrgencias">¿Ha visitado urgencias debido a su diabetes en el último año?: </label>
                    <select id="visitasUrgencias" class="select-option" name="visitasUrgencias">
                        <option value="">Seleccione...</option>
                        <option value="yes">Sí</option>
                        <option value="no">No</option>
                    </select>
                </div>

                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Causas diabetes</th>
                            <th>Causas complicaciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="date" id="fechaDiagnostico" name="fechaDiagnostico" required></td>
                            <td class="form-field">
                                <select id="causasDiabetes" name="causasDiabetes">
                                    <option value="cetoacidosis">Cetoacidosis diabética</option>
                                    <option value="hiperosmolar">Estado hiperosmolar hiperglucémico</option>
                                    <option value="descompensacion">Descompensación sin crisis</option>
                                    <option value="hipoglicemia">Hipoglicemia severa</option>
                                </select>
                            </td>
                            <td class="form-field">
                                <select id="causasComplicaciones" name="causasComplicaciones">
                                    <option value="enfermedad_coronaria">Enfermedad Coronaria</option>
                                    <option value="enfermedad_cerebrovascular">Enfermedad Cerebrovascular</option>
                                    <option value="isquemia_critica_miembros_inferiores">Isquemia Crítica de Miembros Inferiores</option>
                                    <option value="nefropatia">Nefropatía</option>
                                    <option value="pie_diabetico">Pie Diabético</option>
                                </select>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </fieldset>

            <fieldset>
                <legend>Metas</legend>
                <h2 class="Metas Propuestas">Metas Propuestas</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Presión Arterial</th>
                            <th>Glucosa en Ayunas</th>
                            <th>Glucosa 2 horas post prandial</th>
                            <th>HbA1c</th>
                            <th>LDL</th>
                            <th>Ganancia de peso en DMG</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="form-field"><input type="text" id="presionArterial" name="presionArterial"></td>
                            <td class="form-field"><input type="text" id="glucosaAyunas" name="glucosaAyunas"></td>
                            <td class="form-field"><input type="text" id="glucosaPostPrandial" name="glucosaPostPrandial"></td>
                            <td class="form-field"><input type="text" id="hba1c" name="hba1c"></td>
                            <td class="form-field"><input type="text" id="ldl" name="ldl"></td>
                            <td class="form-field"><input type="text" id="gananciaPesoDMG" name="gananciaPesoDMG"></td>
                        </tr>
                    </tbody>
                </table>
                
            </fieldset>

            <fieldset>
                <legend>Conducta</legend>
                <h2 class="Metas Propuestas">Plan y Analisis</h2>
                <td><textarea id="torax" name="torax" rows="4"></textarea></td>
                <div class="form-field">
                    <label for="patientName">Firma profesional :</label>
                    <input type="text" id="patientName" name="patientName" required>
                </div>
                <div class="form-field">
                    <label for="patientName">Registro:</label>
                    <input type="text" id="patientName" name="patientName" required>
                </div>
                <div class="form-field">
                    <label for="patientName">Cédula:</label>
                    <input type="text" id="patientName" name="patientName" required>
                </div>
                <div class="form-field">
                    <label for="patientName">Especialidad:</label>
                    <input type="text" id="patientName" name="patientName" required>
                </div>
            </fieldset>
                
            <button type="submit">Enviar</button>
        </form>
    </main> 
    
    <script> // Función para mostrar/ocultar detalles de insulina
        function toggleInsulinDetails() {
            var insulinSelect = document.getElementById('insulina1');
            var insulinDetails = document.getElementById('insulin-details');
            
            // Mostrar el div si la opción es 'Sí', ocultarlo en caso contrario
            if (insulinSelect.value === 'yes') {
                insulinDetails.classList.remove('hidden');
            } else {
                insulinDetails.classList.add('hidden');
            }
        }

        // Función para mostrar/ocultar tabla de actividad física
        function toggleActividadFisicaFields() {
            const actividadFisicaSelect = document.getElementById('actividadFisica');
            const tablaActividadFisica = document.getElementById('tablaActividadFisica');
            
            // Mostrar la tabla si la opción es 'Sí', ocultarla en caso contrario
            if (actividadFisicaSelect.value === 'yes') {
                tablaActividadFisica.style.display = 'block';
            } else {
                tablaActividadFisica.style.display = 'none';
            }
        }

        // Generar opciones para el select de horas de actividad física
        document.addEventListener('DOMContentLoaded', function() {
            const horasActividadFisicaSelect = document.getElementById('horasActividadFisica');
            for (let i = 0; i <= 24; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `${i} hora${i > 1 ? 's' : ''}`;
                horasActividadFisicaSelect.appendChild(option);
            }
        });

        // Función para mostrar/ocultar el campo de observación según el tipo de diabetes
        function toggleObservacionField() {
            var diabetesType = document.getElementById('diabetesType');
            var observacion = document.getElementById('observacion');
            
            // Mostrar el campo de observación si la opción es 'other', ocultarlo en caso contrario
            if (diabetesType.value === 'other') {
                observacion.classList.remove('hidden');
            } else {
                observacion.classList.add('hidden');
            }
        }

        // Inicializar comportamiento para campos de causa de abandono y observación
        document.addEventListener('DOMContentLoaded', function() {
            const causaAbandonoSelects = document.querySelectorAll('.causa-abandono');
            const observacionColumns = document.querySelectorAll('.observacion-column');
            const observacionColumnTitle = document.querySelector('.observacion-column-title');

            causaAbandonoSelects.forEach(select => {
                select.addEventListener('change', function() {
                    const row = this.closest('tr');
                    const observacionColumn = row.querySelector('.observacion-column');

                    // Mostrar la columna de observación si el valor es 'adverse_event', ocultarla en caso contrario
                    if (this.value === 'adverse_event') {
                        observacionColumn.style.display = 'table-cell';
                        observacionColumnTitle.style.display = 'table-cell';
                    } else {
                        observacionColumn.style.display = 'none';
                        const anyVisible = Array.from(observacionColumns).some(column => column.style.display === 'table-cell');
                        if (!anyVisible) {
                            observacionColumnTitle.style.display = 'none';
                        }
                    }
                });
            });

            // Añadir una nueva fila a la tabla y reasignar eventos a los selectores en la nueva fila
            const addRowBtn = document.getElementById('addRowBtn');
            addRowBtn.addEventListener('click', function() {
                const tableBody = document.querySelector('.styled-table tbody');
                const lastRow = tableBody.querySelector('tr:last-child');
                const newRow = lastRow.cloneNode(true);

                // Limpiar los valores de los campos en la nueva fila
                newRow.querySelectorAll('input').forEach(input => input.value = '');
                newRow.querySelectorAll('select').forEach(select => select.selectedIndex = 0);

                tableBody.appendChild(newRow);

                // Reasignar los eventos de cambio a los nuevos selects en la fila clonada
                newRow.querySelectorAll('.causa-abandono').forEach(select => {
                    select.addEventListener('change', function() {
                        const row = this.closest('tr');
                        const observacionColumn = row.querySelector('.observacion-column');

                        if (this.value === 'adverse_event') {
                            observacionColumn.style.display = 'table-cell';
                            observacionColumnTitle.style.display = 'table-cell';
                        } else {
                            observacionColumn.style.display = 'none';
                            const anyVisible = Array.from(observacionColumns).some(column => column.style.display === 'table-cell');
                            if (!anyVisible) {
                                observacionColumnTitle.style.display = 'none';
                            }
                        }
                    });
                });
            });
        });

        // Función para generar opciones de 0 a 6 horas
        document.addEventListener('DOMContentLoaded', function() {
            const horasActividadFisicaSelect = document.getElementById('horasActividadFisica');
            for (let i = 0; i <= 6; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                horasActividadFisicaSelect.appendChild(option);
            }
        });

        // Función para mostrar/ocultar campos relacionados con la bomba de insulina
        function toggleInsulinPumpFields() {
            const insulinPumpSelect = document.getElementById('Bombainsulina');
            const insulinPumpFields = document.getElementById('insulinPumpFields');
            
            if (insulinPumpSelect.value === 'yes') {
                insulinPumpFields.style.display = 'block';
            } else {
                insulinPumpFields.style.display = 'none';
            }
        }

        // Función para mostrar/ocultar campos relacionados con la hospitalización
        function toggleHospitalizacionFields() {
            var select = document.getElementById('hospitalizadoDiabetes');
            var diagnosisField = document.getElementById('diagnosisField');
            if (select.value === 'yes') {
                diagnosisField.style.display = 'block';
            } else {
                diagnosisField.style.display = 'none';
                document.getElementById('diagnosticoHospitalizacion').value = '';
                toggleTableField(); // Ocultar la tabla si "No" está seleccionado en el primer campo
            }
        }

        // Función para mostrar/ocultar tabla de hospitalización
        function toggleTableField() {
            var select = document.getElementById('diagnosticoHospitalizacion');
            var table = document.getElementById('hospitalizacionTable');
            if (select.value === 'yes') {
                table.style.display = 'block';
            } else {
                table.style.display = 'none';
            }
        }

        // Función para mostrar/ocultar campos relacionados con la obstrucción del catéter
        function toggleCateterObstructionFields() {
            const cateterObstructionSelect = document.getElementById('obstruccionCateter');
            const cateterObstructionFields = document.getElementById('cateterObstructionFields');
            
            if (cateterObstructionSelect.value === 'yes') {
                cateterObstructionFields.style.display = 'block';
            } else {
                cateterObstructionFields.style.display = 'none';
                document.getElementById('numObstrucciones').value = ''; // Limpiar el valor del campo de texto
            }
        }

        // Función para manejar eventos de cambio en los selectores y tablas
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('agentesorales').addEventListener('change', function() {
                var table = document.getElementById('tablaAgentesOrales');
                table.style.display = this.value === 'siagentes' ? 'block' : 'none';
            });

            document.getElementById('insulina').addEventListener('change', function() {
                var table = document.getElementById('tablainsulina');
                table.style.display = this.value === 'siinsulina' ? 'block' : 'none';
            });

            document.getElementById('insulinaPrandial').addEventListener('change', function() {
                var div = document.getElementById('estrategiaNutricional');
                div.style.display = this.value === 'yes' ? 'block' : 'none';

                var div2 = document.getElementById('insulinaPrandialTabla');
                div2.style.display = this.value === 'yes' ? 'block' : 'none';
            });

            // Inicializar estado de visibilidad de campos según la carga inicial
            toggleInsulinPumpFields();
            toggleCateterObstructionFields();
        });

        // Generar opciones para el select de horas
        const cantidadHorasSelect = document.getElementById('cantidadHoras');
        for (let i = 1; i <= 24; i++) {
            const option = document.createElement('option');
            option.value = i;
            option.textContent = `${i} hora${i > 1 ? 's' : ''}`;
            cantidadHorasSelect.appendChild(option);
        }
        </script>
    
    
    
</body>
</html>
